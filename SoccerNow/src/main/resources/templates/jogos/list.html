<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head th:replace="fragments/header :: head('Lista de Juegos')"></head>
  <body th:replace="fragments/header :: content">
    <section>
      <h2>Gestión de Juegos</h2>
      <a th:href="@{/web/jogos/create}">Crear Nuevo Juego</a>

      <!-- Aquí podrías añadir filtros si los necesitas -->

      <table border="1" cellpadding="5" cellspacing="0"
             style="width:100%; margin-top:15px;">
        <thead>
          <tr style="background:#ddd;">
            <th>ID</th>
            <th>Fecha y Hora</th>
            <th>Localización</th>
            <th>Amistoso</th>
            <th>Local</th>
            <th>Visitante</th>
            <th>Árbitros</th>
            <th>Principal</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
          <tr th:each="j : ${jogos}">
            <td th:text="${j.id}"></td>
            <td th:text="${#dates.format(j.dateTime, 'yyyy-MM-dd HH:mm')}"></td>
            <td th:text="${j.location}"></td>
            <td th:text="${j.amigavel} ? 'Sí' : 'No'"></td>
            <td th:text="${j.homeTeamName}"></td>
            <td th:text="${j.awayTeamName}"></td>
            <td>
              <span th:each="rid : ${j.arbitroIds}"
                    th:text="${rid} + ' '"></span>
            </td>
            <td th:text="${j.primaryRefereeId}"></td>
            <td>
              <a th:href="@{/web/jogos/edit/{id}(id=${j.id})}">Editar</a> |
              <a th:href="@{/web/jogos/delete/{id}(id=${j.id})}"
                 th:onclick="|return confirm('¿Eliminar juego ID ' + ${j.id} + '?');|">
                Eliminar
              </a>
            </td>
          </tr>
        </tbody>
      </table>
    </section>
    <div th:replace="fragments/footer :: footer"></div>
  </body>
</html>
